<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="_csrf" th:content="${_csrf.token}" />
  <meta name="_csrf_header" th:content="${_csrf.headerName}">
  <title>Interlock Setting</title>
  <link rel="icon" th:href="@{/images/favi.png}" type="image/png">

  <script th:inline="javascript">

  </script>
</head>
<body>
<div th:fragment="content" style="max-width:700px; margin:20px; padding:20px;
            border:1px solid #ddd; border-radius:8px;
            display:flex; justify-content:space-between; align-items:flex-start;
            box-shadow:0 4px 12px rgba(0,0,0,0.08);
            border:1px solid #e2e2e2;">
  <div style="flex:1; padding-right:20px;">
    <h2 th:text="${sensorName}"></h2>
    <input type="hidden" id="deviceCode" th:value="${deviceCode}" />
    <input type="hidden" id="sensorKey" th:value="${sensorKey}" />

    <div style="margin-bottom:20px;">
      <label style="display:block; font-weight:bold;">Alarm</label>
      <input type="number" id="alarm" th:value="${threshold.present? threshold.get().alarm : 0}" style="width:100px; padding:5px;" />
    </div>

    <div style="margin-bottom:20px;">
      <label style="display:block; font-weight:bold;">warning</label>
      <input type="number" id="warning" th:value="${threshold.present? threshold.get().warning : 0}" style="width:100px; padding:5px;" />
    </div>

    <div style="margin-bottom:20px;">
      <label style="display:block; font-weight:bold;">ON/OFF</label>
      <select id="status" style="width:100px; padding:5px;">
        <option value="1" th:selected="${threshold.present? threshold.get().status == 1 : false}">ON</option>
        <option value="0" th:selected="${threshold.present? threshold.get().status == 0 : false}">OFF</option>
      </select>
    </div>
    <button type="button" onclick="saveInterlock()"
            style="padding:8px 15px; background:#007bff; color:white; border:none; border-radius:4px;">
      저장
    </button>
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
  </div>
  <div style="flex:0 0 200px; text-align: right;">
    <img th:if="${sensor1}" src="/SpringGroupBB/images/image01.png"  style="max-width:100%; height:auto;" alt="1">
    <img th:if="${sensor2}" src="/SpringGroupBB/images/image02.png"  style="max-width:100%; height:auto;" alt="2">
    <img th:if="${sensor3}" src="/SpringGroupBB/images/image03.png"  style="max-width:100%; height:auto;" alt="3">
    <img th:if="${sensor4}" src="/SpringGroupBB/images/image04.png"  style="max-width:100%; height:auto;" alt="4">
    <img th:if="${sensor5}" src="/SpringGroupBB/images/image05.png"  style="max-width:100%; height:auto;" alt="5">
  </div>
</div>
</body>
</html>