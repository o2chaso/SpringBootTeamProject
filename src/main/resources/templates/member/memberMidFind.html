<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/basicLayout}">

<th:block layout:fragment="script">
  <script th:inline="javascript">
    let message = [[${message}]];
    if(message != null) alert(message);

    function fCheck() {
      let name = form.name.value;

      let tel1 = form.tel1.value;
      let tel2 = form.tel2.value.trim();
      let tel3 = form.tel3.value.trim();
      let tel = tel1 + "-" + tel2 + "-" + tel3;

      if(name.trim == '') {
        alert("아이디를 입력해주세요.");
        form.name.focus();
        return false;
      }
      if(tel2 == '' || tel3 == '') {
        alert("전화번호를 입력해주세요.");
        return false;
      }
      form.tel.value = tel;
      form.submit();
    }
  </script>
</th:block>

<style layout:fragment="css" >
  body {
    font-family: Arial, sans-serif;
  }
  .row {
    margin: 0px;
    padding: 10px;
    align-items: center;

  }
  .row label {
    margin: 0px;
    flex: 0 0 150px;
    font-size: 14px;
    font-weight: normal;
    border-right: 1px solid #ddd;
  }
  h2 {
    font-weight: bold;
  }
</style>

<div layout:fragment="content">
  <h2>아이디 찾기</h2>
  <form name="form" method="post" class="flex-grow-1">
    <div class="row mb-2">
      <label for="name" class="col-form-label col-2">이름</label>
      <div class="col-sm-6">
        <div class="input-group">
          <input type="text" name="name" id="name" class="form-control" placeholder="이름을 입력해주세요" />
        </div>
      </div>
    </div>
    <div class="row mb-2">
      <label class="col-form-label col-2">전화번호</label>
      <div class="col-sm-6 d-flex">
        <select name="tel1" class="form-select me-1">
          <option value="010" selected>010</option>
          <option value="011">011</option>
          <option value="016">016</option>
          <option value="017">017</option>
          <option value="018">018</option>
          <option value="019">019</option>
        </select>
        <span class="pt-1 ms-1 me-1">-</span>
        <input type="tel" name="tel2" id="tel2" class="form-control ms-1 me-1" maxlength="4"/>
        <span class="pt-1 ms-1 me-1">-</span>
        <input type="tel" name="tel3" id="tel3" class="form-control ms-1 me-1" maxlength="4"/>
      </div>
    </div>
    <div class="d-flex justify-content-center gap-3 mt-4">
      <button type="button" class="btn btn-dark w-40 px-4" onclick="fCheck()">찾기</button>
      <button type="button" class="btn btn-dark w-40 px-4" onclick="location.href='/SpringGroupBB/'">취소</button>
    </div>
    <input type="hidden" name="tel" id="tel" />
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
  </form>
</div>
</html>